<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ë¯¼ì‚¬ì¸ì˜ í•˜ë£¨ â€” í–‰ë³µ ìœ í˜• í…ŒìŠ¤íŠ¸</title>

<!-- í°íŠ¸ -->
<link href="https://fonts.googleapis.com/css2?family=Jua&family=Nanum+Gothic:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --card-bg: rgba(255,255,255,0.95);
    --accent: #0b66a3;
    --soft: #f0f8ff;
    --round: 14px;
  }

  html,body{
    height:100%;
    margin:0;
    font-family: "Nanum Gothic", "Jua", sans-serif;
    background-color: #bfe3ff;
    background-size: cover;
    background-position: center;
  }

  .wrap{
    min-height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:32px;
    box-sizing:border-box;
  }
  
  /* ìƒë‹¨ ê³ ì • ë°” */
  .top-bar{
    position:fixed;
    top:0;
    left:0;
    right:0;
    height:54px;
    background:#0b66a3;
    color:#fff;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    font-size:1.2rem;
    letter-spacing:0.08em;
    z-index:1000;
  }
  .top-bar span{
    font-weight:700;
  }

  .app {
    width:100%;
    max-width:1100px;
    margin-top:80px; 
    padding:32px;
    box-sizing:border-box;
    display:grid;
    grid-template-columns: 1fr;
    gap:20px;
    align-items:start;
  }

  .panel {
    background: var(--card-bg);
    border-radius: var(--round);
    padding:22px;
    box-shadow: 0 8px 30px rgba(5,30,60,0.12);
  }

  .screen {
    min-height:260px;
  }

  h1{
    margin:0 0 10px 0;
    color: var(--accent);
    font-size:1.6rem;
    letter-spacing: -0.5px;
  }

  p.lead {
    margin: 8px 0 18px 0;
    color:#333;
  }

  .small { font-size:0.9rem; color:#555; margin-top:10px; }

  .name-box input{
    width:100%;
    padding:12px 14px;
    border-radius:10px;
    border:2px solid #e2e8f0;
    font-size:1.05rem;
    box-sizing:border-box;
  }
  
  /* í˜ì´ì§€ ì „í™˜ìš© */
  .page { display:none; }
  .page.active { display:block; }

  /* ì„¤ë¬¸ í•œ ë¬¸í•­ ì˜ì—­ */
  .question-wrapper{
    margin-top:10px;
  }
  .question-title{
    color:#073b6b;
    font-weight:700;
    margin-bottom:8px;
  }
  .question-number{
    font-size:0.95rem;
    color:#0b66a3;
    font-weight:700;
    margin-bottom:6px;
  }

  .option {
    margin:4px 0;
    font-size:0.95rem;
  }
  .option label {
    cursor: pointer;
    display: block;
    padding: 8px;
    border-radius: 8px;
    transition: background 0.2s;
  }
  .option label:hover {
    background: #f0f8ff;
  }
  .option input[type="radio"] {
    margin-right: 8px;
  }

  .actions { margin-top:18px; display:flex; gap:10px; flex-wrap:wrap; }
  .primary {
    background:var(--accent);
    color:white;
    border:none;
    padding:10px 14px;
    border-radius:10px;
    cursor:pointer;
    font-size: 1rem;
  }
  .primary:hover { background: #095a92; }
  .secondary {
    background:white;
    border:2px solid #e6eef8;
    padding:10px 14px;
    border-radius:10px;
    cursor:pointer;
    font-size: 1rem;
  }
  .secondary:hover { background: #f8fbff; }

  /* ê²°ê³¼ */
  #result {
    background:#fff;
    margin:-22px;
    padding:22px;
    border-radius:var(--round);
  }
  #resultTitle { margin-top:0; color:#073b6b; }
  #resultDesc { margin-top:6px; margin-bottom:12px; }
  #resultBody { white-space:pre-line; line-height:1.5; color:#123; }
  .gray { font-size:0.85rem; color:#555; margin-top:18px; }
  .actions-list { 
    background: #f8fbff; 
    padding: 12px; 
    border-radius: 10px; 
    margin: 12px 0;
    border-left: 4px solid var(--accent);
  }

  /* âœ… ê²°ê³¼ ë ˆì´ì•„ì›ƒ: í…ìŠ¤íŠ¸ + ì´ë¯¸ì§€ ì˜† ë°°ì¹˜ */
  .result-layout{
    display:flex;
    gap:16px;
  }
  .result-text{
    flex:0 1 38%;
    min-width:0;
  }
  .result-media{
    flex:1 1 60%;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    border-radius:14px;
  }
  #resultImg{
    width:100%;
    aspect-ratio:1/1;
    max-height:calc(100vh - 280px);
    object-fit:cover;
    display:none; /* ê¸°ë³¸ì€ ìˆ¨ê¹€ -> ë§¤ì¹­ë˜ë©´ í‘œì‹œ */
  }
  @media (max-width: 720px){
    .wrap{
      padding:10px;
    }
    .app{
      padding:10px;
      margin-top:64px;
    }
    .panel{
      padding:14px;
    }
    #result{
      margin:-14px;
      padding:14px;
    }
    .option label{
      padding:6px 4px;
    }
    .result-layout{
      flex-direction: column;
    }
    .result-media{
      flex:0 0 auto;
      order:-1;
      max-width:260px;
      margin:0 auto 12px;
    }
    #resultImg{
      width:100%;
    }
  }
</style>
</head>

<body>
<div class="top-bar">
  <span>í–‰ë³µìœ í˜•í…ŒìŠ¤íŠ¸</span>
</div>

<div class="wrap">
  <div class="app">
    <div class="panel">

      <!-- ================= START ================= -->
      <div class="page active" id="start">
        <h1>í–‰ë³µì€ í›ˆë ¨í•  ìˆ˜ ìˆì„ê¹Œ?</h1>

        <p>
          ì…€ë¦¬ê·¸ë¨¼ êµìˆ˜ëŠ” ë§í•©ë‹ˆë‹¤.<br>
          ë¬´ë ¥ê°ì´ í•™ìŠµëœë‹¤ë©´, ë‚™ê´€ê³¼ í–‰ë³µë„ í•™ìŠµë  ìˆ˜ ìˆë‹¤ê³ .
        </p>

        <p>
          ê·¸ëŠ” ì§„ì •í•œ í–‰ë³µì„<br>
          <b>â€˜í”Œë¡œë¦¬ì‹œ(Flourish)â€™ â€” ë²ˆì„±í•˜ëŠ” ì‚¶</b>ìœ¼ë¡œ ì •ì˜í–ˆê³ ,
          ì´ë¥¼ ë§Œë“œëŠ” ë‹¤ì„¯ ìš”ì†Œë¥¼ <b>PERMA</b>ë¡œ ì„¤ëª…í–ˆìŠµë‹ˆë‹¤.
        </p>

        <p>
          ì´ í…ŒìŠ¤íŠ¸ëŠ”<br>
          ë‹¹ì‹ ì´ <b>ì–´ë–¤ ë°©ì‹ìœ¼ë¡œ í–‰ë³µì„ ì¶©ì „í•˜ëŠ” ì‚¬ëŒì¸ì§€</b><br>
          ê°€ì¥ ê°•í•œ ë‘ ìš”ì†Œë¥¼ í†µí•´ ì•Œë ¤ì¤ë‹ˆë‹¤.
        </p>

        <div class="actions">
          <button class="primary" onclick="goToName()">PERMA ì„¤ë¬¸ ì‹œì‘</button>
        </div>
      </div>

      <!-- ================= NAME ================= -->
      <div class="page" id="screen-name">
        <h1>ğŸŒ¸ ë¯¼ì‚¬ì¸ì˜ í•˜ë£¨: í–‰ë³µ ìœ í˜• í…ŒìŠ¤íŠ¸</h1>
        <p class="lead">ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”!</p>

        <div class="name-box">
          <input id="input-name" type="text" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ê¹€ë¯¼ì¡±)" />
        </div>

        <div style="margin-top:16px;">
          <p class="small">ë‹¤ìŒ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì„¤ë¬¸ í™”ë©´ìœ¼ë¡œ ë„˜ì–´ê°€ìš”.</p>
          <div class="actions">
            <button class="primary" onclick="startSurvey()">ë‹¤ìŒ: ì„¤ë¬¸ ì‹œì‘</button>
            <button class="secondary" onclick="randomizeName()">ëœë¤ ì´ë¦„</button>
            <button class="secondary" onclick="showPage('start')">ì´ì „: ì†Œê°œ í™”ë©´</button>
          </div>
        </div>
      </div>

      <!-- ================= SURVEY ================= -->
      <div class="page" id="survey">
        <h1>PERMA ì„¤ë¬¸</h1>
        <p class="small">ê° ìƒí™©ì—ì„œ ë‚˜ì™€ ê°€ì¥ ê°€ê¹Œìš´ ì„ íƒì§€ë¥¼ ê³¨ë¼ì£¼ì„¸ìš”.</p>

        <div class="question-wrapper">
          <div class="question-number" id="q-number"></div>
          <div class="question-title" id="q-text"></div>
          <div id="q-options"></div>
        </div>

        <div class="actions">
          <button class="secondary" onclick="prevQuestion()">ì´ì „ ë¬¸í•­</button>
          <button class="primary" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸í•­</button>
        </div>

        <div class="small" id="q-progress" style="margin-top:8px;"></div>
      </div>

      <!-- ================= TIE ================= -->
      <div class="page" id="tie">
        <h1>ìµœê·¼ í–‰ë™ ì„ íƒ</h1>
        <p>ì ìˆ˜ê°€ ê°™ì€ PERMA ìš”ì†Œê°€ ì—¬ëŸ¬ ê°œì˜ˆìš”.<br>ê°€ì¥ ìµœê·¼ì— ì‹¤ì œë¡œ í•œ í™œë™ì— ë” ê°€ê¹Œìš´ ê²ƒ <b>ë‘ ê°œ</b>ë¥¼ ê³¨ë¼ì£¼ì„¸ìš”.</p>
        <div id="tieOptions"></div>
        <div class="actions">
          <button class="primary" onclick="resolveTie()">í™•ì¸</button>
          <button class="secondary" onclick="showPage('survey')">ì´ì „: ì„¤ë¬¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
        </div>
      </div>

      <!-- ================= RESULT ================= -->
      <div class="page" id="result">
        <h1 id="resultTitle"></h1>
        <div class="result-layout">
          <div class="result-text">
            <p id="resultDesc"></p>
            <div id="resultBody"></div>
            <div id="resultActions"></div>
            <div id="resultCaution"></div>
          </div>

          <div class="result-media">
            <img id="resultImg" alt="ê²°ê³¼ ë™ë¬¼ ì´ë¯¸ì§€" />
          </div>
        </div>

        <div class="actions">
          <button class="primary" onclick="restart()">ë‹¤ì‹œ í•˜ê¸°</button>
        </div>
      </div>

    </div>
  </div>
</div>

<script>
/* ================= ì „ì—­ ë³€ìˆ˜ ================= */
let scores = {P:0, E:0, R:0, M:0, A:0};
let currentIndex = 0;
let answers = {};
const realTotal = 25;

/* ================= ì„¤ë¬¸ ë°ì´í„° ================= */
const surveyData = [
  // Positive Emotion (P) - 5ë¬¸í•­
  {area:'P',q:'ê¸°ìƒì†¡ì´ ìš¸ë¦°ë‹¤. ì•„ì¹¨ê¸°ë¥¼ ê°€ê¸° ìœ„í•´ ì¼ì–´ë‚œë‹¤.',opts:['ì•„.. ë„ˆë¬´ í”¼ê³¤í•˜ë‹¤.. ë‹¤ì‹œ ì˜ê¹Œ..? ğŸ˜','í˜ë“¤ì§€ë§Œ ê°€ì•¼ì§€..','ê·¸ë˜ë„ ì•„ì¹¨ ë‚ ì”¨ëŠ” ì¢‹ë„¤.. ğŸŒ','ì•„ì¹¨ê¸°ë¡œ í˜ì°¬ í•˜ë£¨ë¥¼ ì‹œì‘í•´ ë³¼ê¹Œ? ğŸ˜']},
  {area:'P',q:'ë‹¤ìŒ ìˆ˜ì—…ìœ¼ë¡œ ê°€ê¸° ìœ„í•´ ì´ë™í•œë‹¤. ê±°ë¦¬ê°€ ë©€ë‹¤.',opts:['ì§„ì§œ ì™œ ì´ë ‡ê²Œ ë¨¼ê±°ì•¼!! í•™êµ ìº í¼ìŠ¤ ë„ˆë¬´ ì“¸ë°ì—†ì´ ì»¤ğŸ˜¡','ìˆ˜ì—… ëŠ¦ê² ë‹¤ã…œã…œ ë¹¨ë¦¬ ê°€ì•¼ì§€','í˜ë‚´ì„œ ê¸°ë¶„ì¢‹ê²Œ ì´ë™í•´ë³¼ê¹Œ??','ìš°ë¦¬ í•™êµëŠ” ì´ë™í•  ë•Œë„ ìì—°ì„ ì¦ê¸¸ ìˆ˜ ìˆì–´ì„œ ì°¸ ì¢‹ë‹¤..ã…']},
  {area:'P',q:'ì‚°ì±…í•˜ëŠ” ì¤‘ ë„¤ìí´ë¡œë²„ë¥¼ ë°œê²¬í–ˆë‹¤.',opts:['ì–´ ë­ëƒ. (ê·¸ëƒ¥ ì§€ë‚˜ê°„ë‹¤)','ì‹ ê¸°í•˜ë„¤, ë„¤ìí´ë¡œë²„ ì˜¤ëœë§Œ,,','ë„¤ìí´ë¡œë²„ë¼ë‹ˆ..! í–‰ìš´ì˜ ê¸°ìš´ì„ ë°›ìœ¼ë ¤ë‚˜..?','ì™€ ì˜¤ëŠ˜ì€ ì§„ì§œ ìš´ ì¢‹ê² ëŠ”ë°?? í•˜ë£¨ë™ì•ˆ ê¸°ë¶„ì´ ì¢‹ê² ì–´!!']},
  {area:'P',q:'í˜ë“¤ì—ˆë˜ ì¼ê³¼ê°€ ëë‚˜ê³  ë°©ì—ì„œ í•˜ë£¨ë¥¼ ëŒì•„ë³¸ë‹¤.',opts:['ë¨¸í”¼ì˜ ë²•ì¹™ì¸ê°€.. ì˜¤ëŠ˜ë„ í•˜ë£¨ì¢…ì¼ ì•ˆí’€ë¦¬ê³  ë„ˆë¬´ í”¼ê³¤í•˜ë„¤ã…œã…œ ğŸ˜','ë”±íˆ ë³„ ìƒê°ì€ ì•ˆë“œëŠ”ë°,, í‰ë²”í•œ ì¼ìƒì´ì•¼','ê·¸ë˜ë„ ì¢‹ì€ ì¼ì´ ì¡°ê¸ˆ ìˆì—ˆë„¤ ğŸ« ','ì˜¤ëŠ˜ë„ í•˜ë£¨ ë™ì•ˆ ìˆì—ˆë˜ ì¢‹ì€ ì¼ë“¤ì„ ë– ì˜¬ë¦¬ë©° ê°ì‚¬í•¨ì„ ëŠë¼ì!!']},
  {area:'P',q:'ì‹œí—˜ì´ ëë‚œ í›„ ê²°ê³¼ê°€ ì˜ ì•ˆ ë‚˜ì˜¬ ê²ƒ ê°™ë‹¤ê³  ëŠê»´ì§„ë‹¤.',opts:['ê³„ì† ê±±ì •ë˜ëŠ”ë°ã…œã…œ ë§ì³¤ìœ¼ë©´ ì–´ë–¡í•˜ì§€?? ã…œã…œ','ê²°ê³¼ëŠ” ì–´ì©” ìˆ˜ ì—†ì–´.. ì§€ë‚˜ê°„ê±´ ìŠì–´ë²„ë¦¬ì.','ê·¸ë˜ë„ ì´ë²ˆì— ë°°ìš´ ê²Œ ìˆìœ¼ë‹ˆ ê´œì°®ì•„..','ë‹¤ìŒì—” ë” ì˜í•  ìˆ˜ ìˆì„ê±°ì•¼! ë” ì˜í•´ë³´ì!! ğŸ¥²']},

  // Engagement (E) - 5ë¬¸í•­
  {area:'E',q:'ìˆ˜ì—… ì‹œê°„ì— ì˜ê²¬ ì¶©ëŒì´ ì¼ì–´ë‚˜ ì¹œêµ¬ë“¤ì´ ì¦‰ì„ì—ì„œ í† ë¡ ì¤‘ì´ë‹¤.',opts:['ë„ˆë¬´ ë¶€ë‹´ìŠ¤ìš´ë°.. ì¡°ìš©íˆ ìˆì–´ì•¼ê² ë‹¤,,','ê¶ê¸ˆí•œë°..? ë¬´ìŠ¨ ì´ì•¼ê¸°ë¥¼ í•˜ê³  ìˆì§€?!','ë‚˜ëŠ” ì´ìª½ ì˜ê²¬ì— ë” ê³µê°ì´ ë˜ëŠ”êµ¬ë‚˜ ë„ì™€ì¤˜ì•¼ê² ë‹¤~','ë‚´ê°€ í•˜ê³  ì‹¶ì€ ë§ì€ ë‹¤ í•´ì•¼ì§€!!']},
  {area:'E',q:'ì²´ìœ¡ì‹œê°„ì´ë‹¤. ì¹œêµ¬ë“¤ë¼ë¦¬ íŒ€ì„ ë‚˜ëˆ  ê²Œì„ì„ í•œë‹¤.',opts:['ì•„ì´ ê·€ì°®ê²Œ ë­” ê²Œì„ì´ì•¼.. ììŠµì´ë‚˜ í•˜ê³  ì‹¶ì€ë°','ê·¸ë˜ë„ ìˆ˜ì—…ì‹œê°„ì¸ë° ì°¸ì—¬ëŠ” í•´ì•¼ì§€..','ì—´ì‹¬íˆ ì°¸ì—¬í•´ì„œ ì´ê²¨ì•¼ì§€! ^^','ë‚˜ëŠ” ì—´ì •ìœ¼ë¡œ ìŠ¹ë¶€í•œë‹¤!! ìš°ë¦¬íŒ€ì˜ ìŠ¹ë¦¬ë¥¼ ìœ„í•˜ì—¬~']},
  {area:'E',q:'ì–´ë ¤ìš´ ë¬¸ì œë¥¼ í‘¸ëŠ”ë° ì‰½ê²Œ í•´ê²°ì´ ë˜ì§€ ì•ŠëŠ”ë‹¤.',opts:['ì—ì´ ì•ˆë˜ê² ë‹¤..í¬ê¸°í•´ì•¼ì§€ ğŸ˜®â€ğŸ’¨','ì¡°ê¸ˆë§Œ ë” í•´ë´ì•¼ì§€.. (ê¸ˆë°© í¬ê¸°í•¨)','ìŒ.. í¥ë¯¸ë¡œìš´ë°..? ë” íƒêµ¬í•´ë³¼ê¹Œ?? ğŸ¤”','ëê¹Œì§€ í•´ê²°í• ë•Œê¹Œì§€ í¬ê¸°í•˜ì§€ ì•Šì„êº¼ì•¼..! (ì‹œê°„ ê°€ëŠ”ì¤„ ëª¨ë¦„)']},
  {area:'E',q:'ìƒˆë¡œìš´ ì·¨ë¯¸ê°€ ìƒê²¼ë‹¤. ë°˜ë³µë˜ëŠ” ì¼ìƒì— í™œë ¥ì´ ë  ê²ƒ ê°™ë‹¤.',opts:['ì•„..ê·€ì°®ì•„;; ì´ê²ƒë„ ë³„ë¡œ ì¬ë¯¸ì—†ë„¤..','(ì‹œê°„ì´ ì¢€ ì§€ë‚œ ì´í›„) í¥ë¯¸ê°€ ë–¨ì–´ì§€ë„¤..','í•˜ë©´ í• ìˆ˜ë¡ ì ì  ì¬ë¯¸ìˆëŠ” ê²ƒ ê°™ì•„~','ë„ˆë¬´ ì¢‹ì€ë°? ìµœì•  ìµœë¯¸ê°€ ìƒê²¼ì–´!! (ì™„ì „íˆ ëª°ì…)']},
  {area:'E',q:'ìì‹ ì—ê²Œ ê°€ì¥ ì§‘ì¤‘ì´ ì˜ ë˜ëŠ” ê³µê°„ì—ì„œ ê³µë¶€í•˜ê³  ìˆë‹¤.',opts:['ì•„ì‡.ê·¸ë˜ë„ ì§‘ì¤‘ì´ ì˜ ì•ˆ ë˜ë„¤ ã… ','ì ê¹ ì§‘ì¤‘ëœ..ë“¯ ì•„ë‹Œê°€ ã…‹ã…‹ã…‹','ê·¸ë˜ë„ ë¹„êµì  ì˜¤ë˜ ì§‘ì¤‘ì´ ì˜ ë˜ëŠ”êµ°..!','ê³„íší•œë§Œí¼ ëë‚  ë•Œê¹Œì§„ í•œë°œìêµ­ë„ ì•ˆ ì›€ì§ì¼ê±°ì•¼ ã„·ã„· (ê¹Šì€ ëª°ì… ìƒíƒœ)']},

  // Relationship (R) - 5ë¬¸í•­
  {area:'R',q:'ì ì‹¬ì‹œê°„ì´ë‹¤. ë°¥ì„ ë¨¹ëŠ”ë‹¤.',opts:['ì•„..ê·€ì°®ì•„. ë°©ì—ì„œ í˜¼ì ê± ëŒ€ì¶© ë•Œì›Œì•¼ì§€','í˜¼ì ì•‰ì•„ì„œ ì¡°ìš©íˆ ë¨¹ëŠ”ê²Œ í¸í•´,,','ì‹ë‹¹ì— ì¹œêµ¬ë“¤ ìˆìœ¼ë©´ ê°™ì´ ì•‰ì•„ì„œ ì´ì•¼ê¸° ë“¤ìœ¼ë©´ì„œ ë¨¹ì–´ì•¼ê² ë‹¤','ì¹œêµ¬ë“¤ê³¼ ì‹ ë‚˜ê²Œ ë– ë“¤ë©´ì„œ ë§›ìˆê²Œ ë°¥ì„ ë¨¹ì–´ì•¼ì§€!']},
  {area:'R',q:'ë™ì•„ë¦¬ì‹œê°„ì´ë‹¤. ë™ì•„ë¦¬ ë¶€ì›ë“¤ê³¼ ë§Œë‚˜ í™œë™í•œë‹¤.',opts:['ë™ì•„ë¦¬ ë‹¤ í•„ìš”ì—†ê³ , ììŠµì´ë‚˜ í•´ì•¼ê² ë‹¤.','ìƒê¸°ë¶€ì— ì ì„ ë‚´ìš© ì •ë„ë§Œ ì±™ê²¨ì•¼ê² ë‹¤.','ë™ì•„ë¦¬ í™œë™ì„ í•˜ë©° ë¶€ì›ë“¤ê³¼ ì¹œí•´ì§€ê³  ì‹¶ì–´,,','ë™ì•„ë¦¬ ì„ í›„ë°°, ì¹œêµ¬ë“¤ê³¼ ì§±ì¹œ ë¨¹ì„í…Œì•¼!']},
  {area:'R',q:'ì¹œí•œ ì¹œêµ¬ê°€ ì¢‹ì€ ì†Œì‹ì„ ì „í•´ ì˜¨ë‹¤.',opts:['í° ê´€ì‹¬ì€ ì—†ì§€ë§Œ ì§§ê²Œ ë‹µí•´ì£¼ì..','ì¶•í•˜í•œë‹¤, ì¹œêµ¬ì•¼..! (ì˜ˆì˜ìƒ)','ì˜¤! ë­ëƒ ì¶•í•˜í•´~','ë‚´ ì¼ì¸ ê²ƒì²˜ëŸ¼ ê¸°ìœê±¸?? ì •ë§ ì¶•í•˜í•´!! ğŸ˜']},
  {area:'R',q:'ì˜¤ëœë§Œì— ìŠê³  ì§€ë‚´ë˜ ì¹œêµ¬ì—ê²Œ ì—°ë½ì´ ì™”ë‹¤.',opts:['ê·€ì°®ì€ë°.. ë­ë¼í•˜ì§€.. ğŸ˜•','ì§§ê²Œ ë‹µí•˜ê³  ë‚´ í• ì¼ í•´ì•¼ê² ë‹¤','í—,, ê°œì˜¤ëœë§Œì´ë„¤ ë°˜ê°‘ë‹¤!! ğŸ˜ƒ','ì™€! ã„¹ã…ˆã„· ë°”ë¡œ ë§Œë‚˜ìê³  í•´ì•¼ê² ì–´!!']},
  {area:'R',q:'í•™êµ ìƒí™œì„ í•˜ë©° í˜ë“  ì¼ì´ ìƒê¸´ë‹¤.',opts:['í˜¼ì í•´ê²°í•  ìˆ˜ ìˆì–´. ë‚¨ì˜ ë„ì›€ì€ ë°›ì§€ ì•Šì„ê±°ì•¼.','ê°€ì¥ ê°€ê¹Œìš´ ì‚¬ëŒ í•œ ëª…ì—ê²Œë§Œ ë§í•˜ê³  ì ˆëŒ€ ë¹„ë°€ë¡œ í•´ì•¼ë¼..!!','ë¯¿ì„ ìˆ˜ ìˆëŠ” ì‚¬ëŒ ëª‡ ëª…ì—ê²Œë§Œ ì´ì•¼ê¸°í•˜ê³  ìœ„ë¡œë°›ì•„ì•¼ì§€..','ì¹œêµ¬ë“¤, ì„ ìƒë‹˜ë“¤ê³¼ ì´ì•¼ê¸°í•˜ë©° ìœ„ë¡œë°›ê³  ìƒˆë¡œìš´ í˜ì„ ì–»ì–´ì•¼ê² ì–´!']},

  // Meaning (M) - 5ë¬¸í•­
  {area:'M',q:'ìƒˆë¡œìš´ í•™ê¸°ì˜ ì‹œì‘ì´ë‹¤. í•œ í•™ê¸°ë¥¼ ì¤€ë¹„í•˜ë©° ê³„íšì„ ì§ ë‹¤.',opts:['ê³„íšì€ ë¬´ìŠ¨ ê³„íšì´ì•¼. ê·¸ëƒ¥ ì‚´ì–´,,','ì•„..ê·€ì°®ì€ë° ê·¸ëƒ¥ ëŒ€ì¶© ì§œì•¼ê² ë‹¤.','ê³„íšì— ë§ì¶°ì„œ ëª©í‘œë¥¼ ì°¨ê·¼ì°¨ê·¼ ë‹¬ì„±í•´ë‚˜ê°€ì•¼ì§€!','ê³„íšì„ ì„¸ìš°ê³  ì‹¤í–‰í•  ë‚˜ë¥¼ ìƒê°í•˜ë‹ˆ ë²Œì¨ ê¸°ë¶„ì´ ì¢‹ì€ê±¸?!']},
  {area:'M',q:'ë´‰ì‚¬í™œë™/ìƒì ì•Œë°”ë¥¼ í•˜ëŸ¬ ê°„ë‹¤.',opts:['ì•„ ì§„ì§œ ì™œ í•˜ëŠ”ì§€ ëª¨ë¥´ê² ë„¤.. ê·€ì°®..','ë´‰ì‚¬ì‹œê°„ ì±„ìš¸ë§Œí¼ë§Œ ë”± ë¹¨ë¦¬ ëë‚´ì•¼ì§€.','ë´‰ì‚¬ í™œë™ì„ í•˜ë‹ˆ ë­”ê°€ ë¿Œë“¯í•˜êµ°..','ë´‰ì‚¬ ìì²´ê°€ ë‚˜ì—ê²ŒëŠ” ì •ë§ ì˜ë¯¸ìˆì–´! ë§ˆìŒì´ ë”°ëœ»í•´ì§€ëŠ” ê¸°ë¶„ì´ì•¼ ğŸ˜Š']},
  {area:'M',q:'ì£¼ë§ ì‹œê°„ì„ ì–´ë–»ê²Œ ë³´ë‚¼ì§€ ê³ ë¯¼í•œë‹¤.',opts:['ì•„ë¬´ ìƒê° ì—†ì´ ê·¸ëƒ¥ ë³´ë‚¸ë‹¤..','ë‹¤ë¥¸ ì¹œêµ¬ë“¤ì€ ë­í•˜ì§€? ì¹œêµ¬ ë”°ë¼í•´ì•¼ê² ë‹¤..','ë‚˜ì—ê²Œ ì‘ë”ë¼ë„ ì˜ë¯¸ê°€ ìˆëŠ” í™œë™ì„ í•´ì•¼ê² ë‹¤ ğŸ™‚','ìµœì¢… ëª©í‘œì™€ ê³„íšì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ íš¨ìœ¨ì ì´ê³  ìƒì‚°ì ì¸ ì‹œê°„ì„ ë³´ë‚¼ê±°ì•¼!!']},
  {area:'M',q:'ì¸ìƒì—ì„œ í˜ë“  ê³ ë‚œì„ ê²ªê³  ìˆë‹¤.',opts:['ë‚˜ì—ê²Œë§Œ ì™œ í•­ìƒ ì´ëŸ° ì‹œë ¨ì´..! ã… ','ì–´ì©” ìˆ˜ ì—†ì§€.. ì´ê²ƒë„ ë‹¤ ì‚¶ì˜ ê³¼ì •ì¼ ë¿ì´ì•¼.','í˜ë“¤ì§€ë§Œ ë‚˜ì—ê²Œ ì–´ë–¤ ë„ì›€ì„ ì£¼ê² ì§€?','ì´ê²Œ ë‹¤ ë‚´ê°€ ì„±ì¥í•˜ëŠ” ë° ì˜ë¯¸ìˆëŠ” ê²½í—˜ì´ ë ê±°ì•¼!']},
  {area:'M',q:'ìì‹ ì˜ ë¯¸ë˜ë¥¼ ê³ ë¯¼í•˜ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³¸ë‹¤.',opts:['ì•„ì§ì€.. ì˜ ëª¨ë¥´ê² ì–´.','ë§‰ì—°í•˜ì§€ë§Œ ê·¸ë˜ë„ ë°©í–¥ ì •ë„ëŠ” ìƒê°í•´ë´¤ì–´..!','ë‚´ê°€ ì¤‘ìš”í•˜ê²Œ ì—¬ê¸°ëŠ” ê°€ì¹˜ì™€ ì—°ê²°í•´ ìƒê°í•œë‹¤','ë‚´ê°€ ì–´ë–¤ ì‚¶ì„ ì‚´ê³  ì‹¶ì€ì§€ ê¹Šì´ ê³ ë¯¼í•˜ë©° ìì£¼ ìƒê°ì¤‘ì´ì•¼.']},

  // Accomplishment (A) - 5ë¬¸í•­
  {area:'A',q:'ì˜¤ë«ë™ì•ˆ ì¤€ë¹„í–ˆë˜ ëŒ€íšŒì—ì„œ ì¢‹ì€ ì„±ì ìœ¼ë¡œ ì…ìƒí•˜ì˜€ë‹¤.',opts:['ì•„ì´ ì•„ì‰½ë„¤.. ì´ê²ƒë°–ì— ì•ˆë˜ë‹¤ë‹ˆ..','ì¤€ë¹„í•œë§Œí¼ ê²°ê³¼ê°€ ë‚˜ì˜¤ëŠ” ê²ƒì€ ë‹¹ì—°í•œ ê²ƒ!','ê¸°ë¶„ì´ ì •ë§ ì¢‹ì€ê±¸?! ë‚˜ì—ê²Œ ìƒˆë¡œìš´ ë„ì „ì„ í•  ì›ë™ë ¥ì´ ë˜ì—ˆì–´..!','ì´ë²ˆ ì„±ì·¨ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë” í° ëª©í‘œë¥¼ ì„¸ìš°ê³  ë„ì „í•´ë´ì•¼ê² ì–´!!']},
  {area:'A',q:'ì§§ì€ ì‹œê°„ ì•ˆì— í•´ì•¼ í•  ì¼ì´ ë§ë‹¤.',opts:['ì•„ëª°ë¼!! ì¼ë‹¨ ì•ˆí•˜ê³  ë¯¸ë£°ë˜!','ì–´ë–¡í•˜ì§€?? ê¸‰í•œ ê²ƒë§Œ ë¹¨ë¦¬ ì²˜ë¦¬í•´ì•¼ê² ì–´.','ìŒ..ì‹œê°„ì´ ì—†ì–´ë„ ì¼ë‹¨ì€ ê³„íšì„ ì„¸ì›Œë³´ì!','ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•˜ë©° ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ê°€ì¥ íš¨ê³¼ì ì¸ ë°©ë²•ì´ì•¼~']},
  {area:'A',q:'ì‘ì€ ì„±ì·¨ë¥¼ ë‹¬ì„±í•˜ì˜€ë‹¤.',opts:['ë³„ ìƒê°ì´ ì—†ë„¤. ì´ê²Œ ë­ë¼ê³ ..','ê¸°ë¶„ì´ ì¢‹ë‹¤ (ì ê¹)','ë¿Œë“¯í•˜ë‹¤.. ë‹¤ì‹œ í˜ì„ ë‚´ë³´ì!','ìì‹ ê°ì´ ë§‰ ì°¨ì˜¤ë¥´ëŠ”ê±¸? ë‚œ ë­ë“  í•  ìˆ˜ ìˆì–´!!']},
  {area:'A',q:'ëª©í‘œ ë‹¬ì„± ê³¼ì •ì—ì„œ ìŠ¬ëŸ¼í”„ê°€ ì˜¨ë‹¤.',opts:['ë„ˆë¬´ í˜ë“ ê±¸..ê·¸ëƒ¥ í¬ê¸°í•˜ê³  ë§ê¹Œ..','ì¼ë‹¨ ì ì‹œ ì‰¬ì–´ë³´ì.. ë‚˜ì¤‘ì— ë‹¤ì‹œ ìƒê°í•˜ëŠ”ê±°ì•¼..!','ì‘ì€ ëª©í‘œë¶€í„° ì°¨ê·¼ì°¨ê·¼ ë‹¤ì‹œ ì‹œì‘í• í…Œì•¼!','ì´ˆì‹¬ì„ ìƒì§€ ë§ì!! ë§ˆìŒì„ ê°€ë‹¤ë“¬ê³  ëê¹Œì§€ ë°€ê³  ê°€ëŠ”ê±°ì•¼~']},
  {area:'A',q:'ìœµí•© í”„ë¡œì íŠ¸ë¥¼ ê³„íší•˜ê³  ì¤€ë¹„í•œë‹¤.',opts:['ì‹œì‘ì´ ë„ˆë¬´ ë§‰ë§‰í•œë°.. ì¢€ ë¯¸ë¤„ë‘¬ì•¼ê² ë‹¤..','ì–´ì°¨í”¼ ì´ëŸ°ê±´ ë§ˆê°ê¸°í•œ ì „ì— ëª°ì•„ì„œ í•œë²ˆì— ëë‚´ëŠ”ê±°ì•¼~','ì¤‘ê°„ì¤‘ê°„ ë‚˜ëˆ ì„œ ì²œì²œíˆ ì§„í–‰í•´ë³´ì..! í•  ìˆ˜ ìˆì–´..!','ì „ì²´ íë¦„ë¶€í„° ì„¤ê³„í•˜ê³  ë‹¨ê³„ë³„ë¡œ ì°©ì°© ì™„ìˆ˜í•´ë‚˜ë©´ ë¼!!']}
];

/* ================= ë™ì  ì¬ì„ íƒ ================= */
const tieMap = {
  P:'ì•„ì¹¨ê¸° ìŒì•… ë“¤ìœ¼ë©° ë‹¬ë¦¬ê¸°',
  E:'í˜¼ì ëª°ì… ë…ì„œ/ì—°êµ¬',
  R:'ì ì‹¬ì‹œê°„ ì¹œêµ¬ë“¤ê³¼ ëŒ€í™”',
  M:'ë´‰ì‚¬Â·ì¥ê¸° ëª©í‘œ ê³„íš',
  A:'ìˆ˜í–‰í‰ê°€Â·ì‹œí—˜ ì„±ì·¨'
};

/* ================= ê²°ê³¼ ìœ í˜• ================= */
const results = {
  'PE': {
    title: 'ğŸ¦¦ ì¦ê±°ìš´ íƒë¯¸ê°€ ìˆ˜ë‹¬',
    desc: 'ë†€ì´ ê¸°ë°˜ ìƒì¡´ ì „ëµ',
    body: `ë‹¹ì‹ ì€ ì¦ê±°ì›€(P)ê³¼ ëª°ì…(E)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
ë‹¹ì‹ ì€ í–‰ë³µì„ ìˆœìˆ˜í•œ ì¦ê±°ì›€ê³¼ ëª°ì…ì—ì„œ ì¶©ì „í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
ì¬ë¯¸ìˆëŠ” ê²ƒì— ë¹ ì ¸ ì‹œê°„ ê°€ëŠ” ì¤„ ëª¨ë¥¼ ë•Œ ê°€ì¥ ë‚˜ë‹¤ìš´ ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì˜¤ëŠ˜ í•˜ë£¨ ì¤‘ ê°€ì¥ ì§§ì€ í–‰ë³µ ìˆœê°„ 10ì´ˆë¥¼ ì°¾ì•„ ê¸°ë¡í•˜ê¸°',
      '5ë¶„ ë™ì•ˆ ì† ê°ê°, ë°”ëŒ, í–¥ê¸° ê°™ì€ ê°ê°ì—ë§Œ ì§‘ì¤‘í•´ë³´ê¸°',
      'í‰ì†Œ ì¢‹ì•„í•˜ëŠ” í™œë™ì„ 1ë‹¨ê³„ ë” ê¹Šê²Œ ê´€ì°°í•˜ê¸° (ìƒ‰, ì†Œë¦¬, ì§ˆê° ë“±)',
      'ê³µë¶€ ì „ì— "ì˜¤ëŠ˜ ë‚´ê°€ ìŒë¯¸í•  ìˆœê°„ í•˜ë‚˜"ë¥¼ ì •í•˜ê¸°',
      'ì¢‹ì•„í•˜ëŠ” ì•„ì´ëŒ/ìºë¦­í„° ë•ì§ˆí•˜ê¸°',
      'ì‰¬ëŠ” ì‹œê°„ì— ìœ íŠœë¸Œ/ì¸ìŠ¤íƒ€ê·¸ë¨ ë°ˆ ë³´ê¸°'
    ],
    caution: ['í•´ì•¼ í•  ì¼ ë¯¸ë£¨ê¸°', 'ì¬ë¯¸ ì—†ìœ¼ë©´ íšŒí”¼']
  },
  'EP': {
    title: 'ğŸ¦¦ ì¦ê±°ìš´ íƒë¯¸ê°€ ìˆ˜ë‹¬',
    desc: 'ë†€ì´ ê¸°ë°˜ ìƒì¡´ ì „ëµ',
    body: `ë‹¹ì‹ ì€ ì¦ê±°ì›€(P)ê³¼ ëª°ì…(E)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
ë‹¹ì‹ ì€ í–‰ë³µì„ ìˆœìˆ˜í•œ ì¦ê±°ì›€ê³¼ ëª°ì…ì—ì„œ ì¶©ì „í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
ì¬ë¯¸ìˆëŠ” ê²ƒì— ë¹ ì ¸ ì‹œê°„ ê°€ëŠ” ì¤„ ëª¨ë¥¼ ë•Œ ê°€ì¥ ë‚˜ë‹¤ìš´ ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì˜¤ëŠ˜ í•˜ë£¨ ì¤‘ ê°€ì¥ ì§§ì€ í–‰ë³µ ìˆœê°„ 10ì´ˆë¥¼ ì°¾ì•„ ê¸°ë¡í•˜ê¸°',
      '5ë¶„ ë™ì•ˆ ì† ê°ê°, ë°”ëŒ, í–¥ê¸° ê°™ì€ ê°ê°ì—ë§Œ ì§‘ì¤‘í•´ë³´ê¸°',
      'í‰ì†Œ ì¢‹ì•„í•˜ëŠ” í™œë™ì„ 1ë‹¨ê³„ ë” ê¹Šê²Œ ê´€ì°°í•˜ê¸° (ìƒ‰, ì†Œë¦¬, ì§ˆê° ë“±)',
      'ê³µë¶€ ì „ì— "ì˜¤ëŠ˜ ë‚´ê°€ ìŒë¯¸í•  ìˆœê°„ í•˜ë‚˜"ë¥¼ ì •í•˜ê¸°',
      'ì¢‹ì•„í•˜ëŠ” ì•„ì´ëŒ/ìºë¦­í„° ë•ì§ˆí•˜ê¸°',
      'ì‰¬ëŠ” ì‹œê°„ì— ìœ íŠœë¸Œ/ì¸ìŠ¤íƒ€ê·¸ë¨ ë°ˆ ë³´ê¸°'
    ],
    caution: ['í•´ì•¼ í•  ì¼ ë¯¸ë£¨ê¸°', 'ì¬ë¯¸ ì—†ìœ¼ë©´ íšŒí”¼']
  },

  'PR': {
    title: 'ğŸ¶ ì¦ê±°ìš´ í€¸/í‚¹ì¹´ ê°œ',
    desc: 'ìœ ëŒ€ ê¸°ë°˜ ìƒì¡´ ì „ëµ',
    body: `ë‹¹ì‹ ì€ ì¦ê±°ì›€(P)ê³¼ ê´€ê³„(R)ê°€ í–‰ë³µì˜ í•µì‹¬ì…ë‹ˆë‹¤.
ë‹¹ì‹ ì€ í–‰ë³µì„ ê´€ê³„ì—ì„œ ì¶©ì „í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
ê°€ê¹Œìš´ ì‚¬ëŒê³¼ í¸ì•ˆí•˜ê²Œ ì—°ê²°ë  ë•Œ ì¦ê±°ì›€ê³¼ ì•ˆì •ê°ì„ ê°€ì¥ í¬ê²Œ ëŠë¼ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì¹œí•œ ì¹œêµ¬ì™€ í†µí™”í•˜ê¸°',
      'ì‹ë‹¹ì—ì„œ ì¢‹ì•„í•˜ëŠ” ì¹œêµ¬ì™€ í•¨ê»˜ ê³µë¶€í•˜ê¸°',
      'ì¹œí•œ ì¹œêµ¬ì™€ ì €ë… ì‹œê°„ì— ì‚°ì±…í•˜ê¸°',
      'ì¢‹ì•„í•˜ëŠ” ì˜í™”ë‚˜ ìŒì•… í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ë¥¼ ì„œë¡œ ê³µìœ í•˜ê¸°',
      'ì¹œêµ¬ì™€ ì—°ë½(ì¹´í†¡/ë””ì—  ë“±)í•˜ê¸°'
    ],
    caution: ['ê´€ê³„ì— íœ˜ë‘˜ë¦´ ìœ„í—˜', 'í˜¼ì ìˆëŠ” ì‹œê°„ íšŒí”¼']
  },
  'RP': {
    title: 'ğŸ¶ ì¦ê±°ìš´ í€¸/í‚¹ì¹´ ê°œ',
    desc: 'ìœ ëŒ€ ê¸°ë°˜ ìƒì¡´ ì „ëµ',
    body: `ë‹¹ì‹ ì€ ì¦ê±°ì›€(P)ê³¼ ê´€ê³„(R)ê°€ í–‰ë³µì˜ í•µì‹¬ì…ë‹ˆë‹¤.
ë‹¹ì‹ ì€ í–‰ë³µì„ ê´€ê³„ì—ì„œ ì¶©ì „í•˜ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
ê°€ê¹Œìš´ ì‚¬ëŒê³¼ í¸ì•ˆí•˜ê²Œ ì—°ê²°ë  ë•Œ ì¦ê±°ì›€ê³¼ ì•ˆì •ê°ì„ ê°€ì¥ í¬ê²Œ ëŠë¼ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì¹œí•œ ì¹œêµ¬ì™€ í†µí™”í•˜ê¸°',
      'ì‹ë‹¹ì—ì„œ ì¢‹ì•„í•˜ëŠ” ì¹œêµ¬ì™€ í•¨ê»˜ ê³µë¶€í•˜ê¸°',
      'ì¹œí•œ ì¹œêµ¬ì™€ ì €ë… ì‹œê°„ì— ì‚°ì±…í•˜ê¸°',
      'ì¢‹ì•„í•˜ëŠ” ì˜í™”ë‚˜ ìŒì•… í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ë¥¼ ì„œë¡œ ê³µìœ í•˜ê¸°',
      'ì¹œêµ¬ì™€ ì—°ë½(ì¹´í†¡/ë””ì—  ë“±)í•˜ê¸°'
    ],
    caution: ['ê´€ê³„ì— íœ˜ë‘˜ë¦´ ìœ„í—˜', 'í˜¼ì ìˆëŠ” ì‹œê°„ íšŒí”¼']
  },

  'PM': {
    title: 'ğŸ˜ ì˜ë¯¸ ì¶”êµ¬ í˜„ì ì½”ë¼ë¦¬',
    desc: 'K selection (ì˜ë¯¸ ê¸°ë°˜ í–‰ë™)',
    body: `ë‹¹ì‹ ì€ ì¦ê±°ì›€(P)ê³¼ ì˜ë¯¸(M)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
ì‚¶ì˜ í° íë¦„ê³¼ ê°€ì¹˜ì— ì§‘ì¤‘í•  ë•Œ ë§ˆìŒì´ ê°€ì¥ ê³ ìš”í•´ì§€ê³  ë§Œì¡±ê°ì´ ê¹Šì–´ì§€ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì¼ê¸°ë¥¼ ì“°ê±°ë‚˜ í•˜ë£¨ë¥¼ ë– ì˜¬ë¦¬ë©° ì§€ë‚œ í•˜ë£¨ì˜ ì˜ë¯¸ ì°¾ê¸°',
      'ì¢‹ì•„í•˜ëŠ” ì±… êµ¬ì ˆ ì •ë¦¬í•˜ë©° ìƒê° ê¸°ë¡í•˜ê¸°',
      'í˜¼ì ì‚°ì±…í•˜ë©° â€˜ë‚˜â€™ë¥¼ ë˜ì§šê¸°',
      'í•˜ë£¨ í•œ ë¬¸ì¥ â€˜ì˜¤ëŠ˜ì˜ ì˜ë¯¸ ì°¾ê¸°â€™'
    ],
    caution: ['í˜„ì‹¤ í–‰ë™ì´ ëŠ¦ì–´ì§ˆ ìˆ˜ ìˆìŒ', 'ë„ˆë¬´ ê³ ìš”í•´ì§€ë©´ ê³ ë¦½ê°']
  },
  'MP': {
    title: 'ğŸ˜ ì˜ë¯¸ ì¶”êµ¬ í˜„ì ì½”ë¼ë¦¬',
    desc: 'K selection (ì˜ë¯¸ ê¸°ë°˜ í–‰ë™)',
    body: `ë‹¹ì‹ ì€ ì¦ê±°ì›€(P)ê³¼ ì˜ë¯¸(M)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
ì‚¶ì˜ í° íë¦„ê³¼ ê°€ì¹˜ì— ì§‘ì¤‘í•  ë•Œ ë§ˆìŒì´ ê°€ì¥ ê³ ìš”í•´ì§€ê³  ë§Œì¡±ê°ì´ ê¹Šì–´ì§€ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì¼ê¸°ë¥¼ ì“°ê±°ë‚˜ í•˜ë£¨ë¥¼ ë– ì˜¬ë¦¬ë©° ì§€ë‚œ í•˜ë£¨ì˜ ì˜ë¯¸ ì°¾ê¸°',
      'ì¢‹ì•„í•˜ëŠ” ì±… êµ¬ì ˆ ì •ë¦¬í•˜ë©° ìƒê° ê¸°ë¡í•˜ê¸°',
      'í˜¼ì ì‚°ì±…í•˜ë©° â€˜ë‚˜â€™ë¥¼ ë˜ì§šê¸°',
      'í•˜ë£¨ í•œ ë¬¸ì¥ â€˜ì˜¤ëŠ˜ì˜ ì˜ë¯¸ ì°¾ê¸°â€™'
    ],
    caution: ['í˜„ì‹¤ í–‰ë™ì´ ëŠ¦ì–´ì§ˆ ìˆ˜ ìˆìŒ', 'ë„ˆë¬´ ê³ ìš”í•´ì§€ë©´ ê³ ë¦½ê°']
  },

  'PA': {
    title: 'ğŸ ì¦ê±°ìš´ ìƒì‚°ê°€ ë²Œ',
    desc: 'í˜‘ë™ì  ìƒì‚°ì„± ì „ëµ',
    body: `ë‹¹ì‹ ì€ ì¦ê±°ì›€(P)ê³¼ ì„±ì·¨(A)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
ìƒˆë¡œìš´ ëª©í‘œì— ë„ì „í•˜ë©° ì–»ëŠ” ì§œë¦¿í•¨ì´ ë‹¹ì‹ ì„ ì›€ì§ì´ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì¹œêµ¬ì™€ ë¯¸ì…˜ ì¸ì¦ ë‚´ê¸° í•˜ê¸°',
      'ë°© ì •ë¦¬ í›„ Before & After ì‚¬ì§„ ì°ê¸°',
      'DIY í‚¤íŠ¸ ë§Œë“¤ê¸°',
      'ìŠ¤í‹°ì»¤Â·í…Œë§ˆë³„ ë‹¤ê¾¸ë¡œ ì‘ì€ ì„±ì·¨ ìŒ“ê¸°',
      'í•˜ë£¨ í•œ ê°œ ì‘ì€ ëª©í‘œ ì‹¤ì²œ í›„ ê¸°ë¡í•˜ê¸°'
    ],
    caution: ['ë„ˆë¬´ ë§ì€ ì¼ì„ ë²Œì—¬ ê³¼ë¡œ', 'ì¬ë¯¸ ì‚¬ë¼ì§€ë©´ í¥ë¯¸ ê¸‰í•˜ë½']
  },
  'AP': {
    title: 'ğŸ ì¦ê±°ìš´ ìƒì‚°ê°€ ë²Œ',
    desc: 'í˜‘ë™ì  ìƒì‚°ì„± ì „ëµ',
    body: `ë‹¹ì‹ ì€ ì¦ê±°ì›€(P)ê³¼ ì„±ì·¨(A)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
ìƒˆë¡œìš´ ëª©í‘œì— ë„ì „í•˜ë©° ì–»ëŠ” ì§œë¦¿í•¨ì´ ë‹¹ì‹ ì„ ì›€ì§ì´ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì¹œêµ¬ì™€ ë¯¸ì…˜ ì¸ì¦ ë‚´ê¸° í•˜ê¸°',
      'ë°© ì •ë¦¬ í›„ Before & After ì‚¬ì§„ ì°ê¸°',
      'DIY í‚¤íŠ¸ ë§Œë“¤ê¸°',
      'ìŠ¤í‹°ì»¤Â·í…Œë§ˆë³„ ë‹¤ê¾¸ë¡œ ì‘ì€ ì„±ì·¨ ìŒ“ê¸°',
      'í•˜ë£¨ í•œ ê°œ ì‘ì€ ëª©í‘œ ì‹¤ì²œ í›„ ê¸°ë¡í•˜ê¸°'
    ],
    caution: ['ë„ˆë¬´ ë§ì€ ì¼ì„ ë²Œì—¬ ê³¼ë¡œ', 'ì¬ë¯¸ ì‚¬ë¼ì§€ë©´ í¥ë¯¸ ê¸‰í•˜ë½']
  },

  'EA': {
    title: 'ğŸ¦… ëª°ì…ì  ì‚¬ëƒ¥ê¾¼ ë§¤',
    desc: 'ê³ ì§‘ì¤‘ ì‚¬ëƒ¥ ì „ëµ',
    body: `ë‹¹ì‹ ì€ ëª°ì…(E)ê³¼ ì„±ì·¨(A)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
ì „ë ¥ì§ˆì£¼í•  ë•Œ ìµœê³ ì˜ ì„±ì¥ì„ ì´ë£¨ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'í•œ ê°€ì§€ ë¶„ì•¼ì— ì¥ê¸°ê°„ ëª°ì…í•´ ì„±ê³¼ ë‚´ê¸°',
      'ëŸ¬ë‹Â·ìš´ë™ ê±°ë¦¬ ì ì§„ì  ì¦ê°€',
      'í¼ì¦Â·íë¸Œ ì™„ì„±',
      'ì¥ê¸° í”„ë¡œì íŠ¸ ì°¸ì—¬'
    ],
    caution: ['ê²°ê³¼ ì—†ìœ¼ë©´ ê³µí—ˆ', 'ì‰¬ëŠ” ê²ƒì— ì£„ì±…ê°']
  },
  'AE': {
    title: 'ğŸ¦… ëª°ì…ì  ì‚¬ëƒ¥ê¾¼ ë§¤',
    desc: 'ê³ ì§‘ì¤‘ ì‚¬ëƒ¥ ì „ëµ',
    body: `ë‹¹ì‹ ì€ ëª°ì…(E)ê³¼ ì„±ì·¨(A)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ëŠ” ì‚¬ëŒì…ë‹ˆë‹¤.
ì „ë ¥ì§ˆì£¼í•  ë•Œ ìµœê³ ì˜ ì„±ì¥ì„ ì´ë£¨ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'í•œ ê°€ì§€ ë¶„ì•¼ì— ì¥ê¸°ê°„ ëª°ì…í•´ ì„±ê³¼ ë‚´ê¸°',
      'ëŸ¬ë‹Â·ìš´ë™ ê±°ë¦¬ ì ì§„ì  ì¦ê°€',
      'í¼ì¦Â·íë¸Œ ì™„ì„±',
      'ì¥ê¸° í”„ë¡œì íŠ¸ ì°¸ì—¬'
    ],
    caution: ['ê²°ê³¼ ì—†ìœ¼ë©´ ê³µí—ˆ', 'ì‰¬ëŠ” ê²ƒì— ì£„ì±…ê°']
  },

  'ER': {
    title: 'ğŸ¬ ì†Œí†µì˜ ì—°ê¸ˆìˆ ì‚¬ ëŒê³ ë˜',
    desc: 'í˜‘ë™ ì‚¬ëƒ¥ + ì‚¬íšŒì  ëª°ì…',
    body: `ë‹¹ì‹ ì€ ëª°ì…(E)ê³¼ ê´€ê³„(R)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
í•¨ê»˜ ëª°ì…í•˜ëŠ” ê´€ê³„ì—ì„œ ê°€ì¥ ì‚´ì•„ë‚˜ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'íŒ€ ì—°êµ¬ / ì„¤ë¬¸Â·ì‹¤í—˜ í”„ë¡œì íŠ¸',
      'í† ë¡  ë™ì•„ë¦¬ ë˜ëŠ” ì‹œì‚¬ í† ë¡ ',
      'ì‚¬íšŒ ë¬¸ì œ í•´ê²° í”„ë¡œì íŠ¸',
      'í•™êµ ì‹ ë¬¸Â·ì¡ì§€ í¸ì§‘'
    ],
    caution: ['ê°ì • ì—ë„ˆì§€ ê³¼ì†Œë¹„', 'ê³¼ëª°ì… ë¶ˆì•ˆ']
  },
  'RE': {
    title: 'ğŸ¬ ì†Œí†µì˜ ì—°ê¸ˆìˆ ì‚¬ ëŒê³ ë˜',
    desc: 'í˜‘ë™ ì‚¬ëƒ¥ + ì‚¬íšŒì  ëª°ì…',
    body: `ë‹¹ì‹ ì€ ëª°ì…(E)ê³¼ ê´€ê³„(R)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
í•¨ê»˜ ëª°ì…í•˜ëŠ” ê´€ê³„ì—ì„œ ê°€ì¥ ì‚´ì•„ë‚˜ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'íŒ€ ì—°êµ¬ / ì„¤ë¬¸Â·ì‹¤í—˜ í”„ë¡œì íŠ¸',
      'í† ë¡  ë™ì•„ë¦¬ ë˜ëŠ” ì‹œì‚¬ í† ë¡ ',
      'ì‚¬íšŒ ë¬¸ì œ í•´ê²° í”„ë¡œì íŠ¸',
      'í•™êµ ì‹ ë¬¸Â·ì¡ì§€ í¸ì§‘'
    ],
    caution: ['ê°ì • ì—ë„ˆì§€ ê³¼ì†Œë¹„', 'ê³¼ëª°ì… ë¶ˆì•ˆ']
  },

  'EM': {
    title: 'ğŸ™ ê³ ë…í•œ ì „ëµê°€ ë¬¸ì–´',
    desc: 'ê³ ì§€ëŠ¥ ë…ë¦½ íƒìƒ‰ ì „ëµ',
    body: `ë‹¹ì‹ ì€ ëª°ì…(E)ê³¼ ì˜ë¯¸(M)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
í˜¼ì ê¹Šì´ ì‚¬ê³ í•  ë•Œ ê°€ì¥ ìƒìƒí•¨ì„ ëŠë¼ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì „ëµÂ·í¼ì¦Â·ìŠ¤í† ë¦¬ ê²Œì„',
      'ë¬¸í•™Â·ì˜í™” ì„¸ê³„ê´€ ë¶„ì„',
      'ê°œì¸ ì—°êµ¬ í›„ ë³´ê³ ì„œ ì‘ì„±',
      'ê°œë… ì •ë¦¬ ë…¸íŠ¸'
    ],
    caution: ['ì„¸ìƒê³¼ ë‹¨ì ˆ', 'ì‹¤í–‰ ì§€ì—°']
  },
  'ME': {
    title: 'ğŸ™ ê³ ë…í•œ ì „ëµê°€ ë¬¸ì–´',
    desc: 'ê³ ì§€ëŠ¥ ë…ë¦½ íƒìƒ‰ ì „ëµ',
    body: `ë‹¹ì‹ ì€ ëª°ì…(E)ê³¼ ì˜ë¯¸(M)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
í˜¼ì ê¹Šì´ ì‚¬ê³ í•  ë•Œ ê°€ì¥ ìƒìƒí•¨ì„ ëŠë¼ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì „ëµÂ·í¼ì¦Â·ìŠ¤í† ë¦¬ ê²Œì„',
      'ë¬¸í•™Â·ì˜í™” ì„¸ê³„ê´€ ë¶„ì„',
      'ê°œì¸ ì—°êµ¬ í›„ ë³´ê³ ì„œ ì‘ì„±',
      'ê°œë… ì •ë¦¬ ë…¸íŠ¸'
    ],
    caution: ['ì„¸ìƒê³¼ ë‹¨ì ˆ', 'ì‹¤í–‰ ì§€ì—°']
  },

  'RM': {
    title: 'ğŸ¾ ë”°ëœ»í•œ ìˆ˜í˜¸ì ë¯¸ì–´ìº£',
    desc: 'í˜‘ë™ ì–‘ìœ¡ ì „ëµ',
    body: `ë‹¹ì‹ ì€ ê´€ê³„(R)ì™€ ì˜ë¯¸(M)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
ëˆ„êµ°ê°€ë¥¼ ëŒë³´ëŠ” ê´€ê³„ ì†ì—ì„œ ê°€ì¥ ì•ˆì •ë˜ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ê°„ì‹ ë‚˜ëˆ„ê¸°',
      'MPT ë„ìš°ë¯¸/ë°°ìš°ë¯¸',
      'ì‹œí—˜ê¸°ê°„ í•¨ê»˜ ê³µë¶€',
      'í›„ë°° ë©˜í† ë§'
    ],
    caution: ['ëª¨ë‘ë¥¼ ì±…ì„ì§€ë ¤ í•¨', 'ìê¸° ë°©ì¹˜']
  },
  'MR': {
    title: 'ğŸ¾ ë”°ëœ»í•œ ìˆ˜í˜¸ì ë¯¸ì–´ìº£',
    desc: 'í˜‘ë™ ì–‘ìœ¡ ì „ëµ',
    body: `ë‹¹ì‹ ì€ ê´€ê³„(R)ì™€ ì˜ë¯¸(M)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
ëˆ„êµ°ê°€ë¥¼ ëŒë³´ëŠ” ê´€ê³„ ì†ì—ì„œ ê°€ì¥ ì•ˆì •ë˜ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ê°„ì‹ ë‚˜ëˆ„ê¸°',
      'MPT ë„ìš°ë¯¸/ë°°ìš°ë¯¸',
      'ì‹œí—˜ê¸°ê°„ í•¨ê»˜ ê³µë¶€',
      'í›„ë°° ë©˜í† ë§'
    ],
    caution: ['ëª¨ë‘ë¥¼ ì±…ì„ì§€ë ¤ í•¨', 'ìê¸° ë°©ì¹˜']
  },

  'RA': {
    title: 'ğŸœ ì¡°ì§ì˜ ì›ë™ë ¥ ê°œë¯¸',
    desc: 'ì‚¬íšŒì  ë¶„ì—… ì„±ì·¨ ì‹œìŠ¤í…œ',
    body: `ë‹¹ì‹ ì€ ê´€ê³„(R)ì™€ ì„±ì·¨(A)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
í•¨ê»˜ í•´ë‚´ëŠ” ê³¼ì •ê³¼ ê²°ê³¼ì—ì„œ ë³´ëŒì„ ëŠë¼ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ë™ì•„ë¦¬ ì¥Â·ì°¨ì¥',
      'í•™ìƒíšŒ ì¶œë§ˆ',
      'íŒ€ ìŠ¤í¬ì¸ ',
      'ëª©í‘œí˜• ì±Œë¦°ì§€'
    ],
    caution: ['ì¼ê¾¼ ëª¨ë“œ', 'íœ´ì‹ ë¯¸í¬í•¨ ì‹œ íƒˆì§„']
  },
  'AR': {
    title: 'ğŸœ ì¡°ì§ì˜ ì›ë™ë ¥ ê°œë¯¸',
    desc: 'ì‚¬íšŒì  ë¶„ì—… ì„±ì·¨ ì‹œìŠ¤í…œ',
    body: `ë‹¹ì‹ ì€ ê´€ê³„(R)ì™€ ì„±ì·¨(A)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
í•¨ê»˜ í•´ë‚´ëŠ” ê³¼ì •ê³¼ ê²°ê³¼ì—ì„œ ë³´ëŒì„ ëŠë¼ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ë™ì•„ë¦¬ ì¥Â·ì°¨ì¥',
      'í•™ìƒíšŒ ì¶œë§ˆ',
      'íŒ€ ìŠ¤í¬ì¸ ',
      'ëª©í‘œí˜• ì±Œë¦°ì§€'
    ],
    caution: ['ì¼ê¾¼ ëª¨ë“œ', 'íœ´ì‹ ë¯¸í¬í•¨ ì‹œ íƒˆì§„']
  },

  'MA': {
    title: 'ğŸ¦Š ì˜ë¦¬í•œ ì „ëµê°€ ì—¬ìš°',
    desc: 'ì „ëµì  ë¬¸ì œ í•´ê²°',
    body: `ë‹¹ì‹ ì€ ì˜ë¯¸(M)ì™€ ì„±ì·¨(A)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
ì´í•´ë¥¼ ê²°ê³¼ë¡œ ì¦ëª…í•  ë•Œ ê°€ì¥ ë§Œì¡±í•˜ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì‹œì‚¬ í† ë¡ ',
      'ë°©íƒˆì¶œÂ·ì¶”ë¦¬ ê²Œì„',
      'ì „ëµ ë³´ë“œê²Œì„',
      'ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„±'
    ],
    caution: ['ì˜ë¯¸ ì—†ëŠ” ê²½ìŸ', 'ê³¼ì • ì—†ëŠ” ê²°ê³¼ ìš”êµ¬']
  },
  'AM': {
    title: 'ğŸ¦Š ì˜ë¦¬í•œ ì „ëµê°€ ì—¬ìš°',
    desc: 'ì „ëµì  ë¬¸ì œ í•´ê²°',
    body: `ë‹¹ì‹ ì€ ì˜ë¯¸(M)ì™€ ì„±ì·¨(A)ì—ì„œ ì—ë„ˆì§€ë¥¼ ì–»ìŠµë‹ˆë‹¤.
ì´í•´ë¥¼ ê²°ê³¼ë¡œ ì¦ëª…í•  ë•Œ ê°€ì¥ ë§Œì¡±í•˜ëŠ” ìœ í˜•ì´ì—ìš”.`,
    actions: [
      'ì‹œì‚¬ í† ë¡ ',
      'ë°©íƒˆì¶œÂ·ì¶”ë¦¬ ê²Œì„',
      'ì „ëµ ë³´ë“œê²Œì„',
      'ì²´í¬ë¦¬ìŠ¤íŠ¸ ì‘ì„±'
    ],
    caution: ['ì˜ë¯¸ ì—†ëŠ” ê²½ìŸ', 'ê³¼ì • ì—†ëŠ” ê²°ê³¼ ìš”êµ¬']
  }
};

/* ================= ê²°ê³¼ ì´ë¯¸ì§€ ë§¤í•‘ ================= */
/* íŒŒì¼ëª…:
  ant.jpeg, bee.jpeg, dog.jpeg, dolphin.jpeg, elephant.jpeg,
  fox.jpeg, mae.jpeg, micat.jpeg, octopus.jpeg, soodal.jpeg
*/
const animalImgMap = {
  'ìˆ˜ë‹¬': 'soodal.jpeg',
  'ê°œ': 'dog.jpeg',
  'ì½”ë¼ë¦¬': 'elephant.jpeg',
  'ë²Œ': 'bee.jpeg',
  'ë§¤': 'mae.jpeg',
  'ëŒê³ ë˜': 'dolphin.jpeg',
  'ë¬¸ì–´': 'octopus.jpeg',
  'ë¯¸ì–´ìº£': 'micat.jpeg',
  'ê°œë¯¸': 'ant.jpeg',
  'ì—¬ìš°': 'fox.jpeg'
};

function pickResultImageByTitle(title) {
  // title ì˜ˆ: "ğŸ¦¦ ì¦ê±°ìš´ íƒë¯¸ê°€ ìˆ˜ë‹¬"
  for (const [k, file] of Object.entries(animalImgMap)) {
    if (title.includes(k)) return {file, label: k};
  }
  return null;
}

/* ================= ê³µí†µ í•¨ìˆ˜ ================= */
function showPage(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  const el = document.getElementById(id);
  if (el) el.classList.add('active');
}

function goToName() {
  showPage('screen-name');
}

function randomizeName() {
  const names = ['ê¹€ë¯¼ì¡±','ì´í–‰ë³µ','ë°•í”Œë¡œë¦¬ì‹œ','ì •í¼ë§ˆ','ì˜¤ê¸ì •'];
  const n = names[Math.floor(Math.random() * names.length)];
  document.getElementById('input-name').value = n;
}

/* ================= ì„¤ë¬¸ í•¨ìˆ˜ ================= */
function renderQuestion() {
  const data = surveyData[currentIndex];
  const numEl = document.getElementById('q-number');
  const textEl = document.getElementById('q-text');
  const optEl = document.getElementById('q-options');
  const progEl = document.getElementById('q-progress');

  numEl.textContent = `ì§ˆë¬¸ ${currentIndex + 1} / ${realTotal}`;
  textEl.textContent = data.q;
  progEl.textContent = `ì§„í–‰ë„: ${currentIndex + 1} / ${realTotal}`;

  optEl.innerHTML = '';
  data.opts.forEach((o, j) => {
    const id = `q${currentIndex}_opt${j}`;
    const wrapper = document.createElement('div');
    wrapper.className = 'option';
    wrapper.innerHTML = `
      <label>
        <input type="radio" name="q${currentIndex}" id="${id}" value="${data.area}-${j * 5}">
        ${o}
      </label>`;
    optEl.appendChild(wrapper);
  });

  // ì´ì „ ë‹µë³€ ë³µì›
  if (answers[currentIndex] !== undefined) {
    const [area, score] = answers[currentIndex].split('-');
    const j = Number(score) / 5;
    const exist = document.getElementById(`q${currentIndex}_opt${j}`);
    if (exist) exist.checked = true;
  }
}

function saveCurrentAnswer() {
  const v = document.querySelector(`input[name="q${currentIndex}"]:checked`);
  if (v) answers[currentIndex] = v.value;
}

function startSurvey() {
  scores = {P:0, E:0, R:0, M:0, A:0};
  answers = {};
  currentIndex = 0;

  const name = document.getElementById('input-name').value.trim();
  if (!name) {
    alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
    return;
  }
  renderQuestion();
  showPage('survey');
}

function nextQuestion() {
  saveCurrentAnswer();

  // ì„ íƒ ì•ˆ í–ˆìœ¼ë©´ ëª» ë„˜ì–´ê°€ê²Œ
  if (answers[currentIndex] === undefined) {
    alert('ì„ íƒì§€ë¥¼ í•˜ë‚˜ ê³¨ë¼ì£¼ì„¸ìš”!');
    return;
  }

  if (currentIndex === realTotal - 1) {
    calculateScores();
    return;
  }
  currentIndex++;
  renderQuestion();
}

function prevQuestion() {
  if (currentIndex === 0) return;
  saveCurrentAnswer();
  currentIndex--;
  renderQuestion();
}

/* ================= ê²°ê³¼ ê³„ì‚° ================= */
function calculateScores() {
  scores = {P:0, E:0, R:0, M:0, A:0};

  Object.values(answers).forEach(answer => {
    if (answer) {
      const [area, score] = answer.split('-');
      scores[area] += Number(score);
    }
  });

  const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
  const topScore = sorted[0][1];
  const tops = sorted.filter(x => x[1] === topScore);

  if (tops.length >= 3) {
    renderTie();
    showPage('tie');
  } else {
    const top1 = sorted[0][0];
    const top2 = sorted[1][0];
    showResult(top1, top2);
  }
}

function renderTie() {
  const div = document.getElementById('tieOptions');
  div.innerHTML = '';
  Object.entries(tieMap).forEach(([k, v]) => {
    div.innerHTML += `
      <div class="option">
        <label>
          <input type="checkbox" value="${k}"> ${v}
        </label>
      </div>`;
  });
}

function resolveTie() {
  const sel = [...document.querySelectorAll('#tie input:checked')];
  if (sel.length !== 2) {
    alert('ì •í™•íˆ 2ê°œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”!');
    return;
  }
  showResult(sel[0].value, sel[1].value);
}

function showResult(a, b) {
  const first = a < b ? a : b;
  const second = a < b ? b : a;
  const key = first + second;

  const result = results[key];

  const imgEl = document.getElementById('resultImg');
  imgEl.style.display = 'none';
  imgEl.removeAttribute('src');

  if (result) {
    document.getElementById('resultTitle').textContent = result.title;
    document.getElementById('resultDesc').textContent = result.desc;
    document.getElementById('resultBody').textContent = result.body;

    const actionsHtml =
      '<div class="actions-list"><b>ğŸ’¡ ì¶”ì²œ í–‰ë™</b><br>' +
      result.actions.map(x => 'â€¢ ' + x).join('<br>') +
      '</div>';
    document.getElementById('resultActions').innerHTML = actionsHtml;

    const cautionHtml =
      '<div class="actions-list" style="border-left-color:#ef4444;"><b>âš ï¸ ì£¼ì˜í•  ì </b><br>' +
      result.caution.map(x => 'â€¢ ' + x).join('<br>') +
      '</div>';
    document.getElementById('resultCaution').innerHTML = cautionHtml;

    // âœ… ì œëª©ì—ì„œ ë™ë¬¼ëª…ì„ ì°¾ì•„ ì´ë¯¸ì§€ ë§¤ì¹­
    const picked = pickResultImageByTitle(result.title);
    if (picked) {
      imgEl.src = picked.file;      // ê°™ì€ í´ë”ì— ìˆìœ¼ë¯€ë¡œ íŒŒì¼ëª…ë§Œ
      imgEl.alt = `${picked.label} ì´ë¯¸ì§€`;
      imgEl.style.display = 'block';
    }
  } else {
    document.getElementById('resultTitle').textContent = `${key} ìœ í˜•`;
    document.getElementById('resultDesc').textContent = 'í–‰ë³µ ì¶©ì „ íŒ¨í„´';
    document.getElementById('resultBody').textContent =
      `ì•„ì§ ${key} ì¡°í•©ì— ëŒ€í•œ ì„¤ëª…ì´ ì¤€ë¹„ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.`;
    document.getElementById('resultActions').innerHTML = '';
    document.getElementById('resultCaution').innerHTML = '';
  }

  showPage('result');
}

function restart() {
  document.getElementById('input-name').value = '';
  scores = {P:0, E:0, R:0, M:0, A:0};
  answers = {};
  currentIndex = 0;
  showPage('start');
}
</script>
</body>
</html>
